<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Example</title>
</head>
<body>
  <canvas id="root"></canvas>
  <div>
    <select id="ganttType">
      <option value="day" selected>Day</option>
      <option value="week">Week</option>
      <option value="month">Month</option>
    </select>
    <a id="download" href="#">Download</a>
  </div>
  <script src="/index.js"></script>
  <script type="text/javascript">
    var gantt = new Gantt('root', [{
      id: 1,
      name: 'Waterfall model',
      collapse: false,
      children: [{
        id: 11,
        name: 'Requirements',
        from: new Date('2016-07-01 00:00:00'),
        to: new Date('2016-12-12 00:00:00'),
        percent: 50
      }, {
        id: 12,
        name: 'Design',
        from: new Date('2016-07-04 00:00:00'),
        to: new Date('2016-07-08 00:00:00'),
        percent: 30
      }, {
        id: 13,
        name: 'Implementation',
        from: new Date('2016-07-03 00:00:00'),
        to: new Date('2016-10-03 00:00:00'),
        percent: 40
      }, {
        id: 14,
        name: 'Verification',
        from: new Date('2016-07-11 00:00:00'),
        to: new Date('2016-07-15 00:00:00'),
        percent: 60
      }]
    }, {
      id: 2,
      name: 'Systems development',
      children: [{
        id: 21,
        name: 'Preliminary analysis',
        from: new Date('2016-07-01 00:00:00'),
        to: new Date('2016-07-12 00:00:00'),
        percent: 20
      }, {
        id: 22,
        name: 'Systems design',
        from: new Date('2016-07-04 00:00:00'),
        to: new Date('2016-07-08 00:00:00'),
        percent: 100
      }, {
        id: 23,
        name: 'Development',
        from: new Date('2016-07-03 00:00:00'),
        to: new Date('2016-07-28 00:00:00'),
        percent: 50
      }, {
        id: 24,
        name: 'Integration and testing',
        from: new Date('2016-07-11 00:00:00'),
        to: new Date('2016-07-15 00:00:00'),
        percent: 80
      }]
    }]);
    document.getElementById('ganttType').addEventListener('change', function(e) {
      gantt.setType(e.target.value);
    }, false);

    function download(link, canvasId, filename) {
      link.href = document.getElementById(canvasId).toDataURL();
      link.download = filename;
    }

    document.getElementById('download').addEventListener('click', function() {
      download(this, 'root', 'gantt-chart.png');
    }, false);
  </script>
</body>
</html>